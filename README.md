# 438-lab4

I implemented the extra credit with 3D touch, if movie is alraedy in favorites, remove from favorites, else add to favorites

Creative Portion:

1.  As described on Piazza, details about favorite movies are saved locally and users are able to access all the data associated with each favorited movie without internet connection. To accomplish this, I first had to import the the Network package and then crash-proof the app by ensuring at each call to the API, if there was no service available, the call would not be made and therefore the call would not fail. I added indicators of the call not being made in the form of labels telling users to connect to the internet to receive data. I also added a refresh button on the main movies tab so that users can refresh once they have connected to the internet and the page will make a new call to the API to get that data. This applies to main movie tab and similar movies page. This took a considerable amount of time, not so much to save the data locally, as I simply added more attributes to the already locally saved favorite movies. What took a lot of time was ensuring that the internet connection was consistently checked before attempting to make an API call.
2. This feature allows users to access movies similar to the current movie whose description view the user is viewing. From the detail view of a movie, the user can click a button which takes them to a new page with a collection view filled with movies similar the the current. From the similar movies page, the user can click on any movie and access the description view of that movie as well. Creating this collection view and view controller in general was difficult because I did it entirely programatically since there is no specific button leading from the main view controller to the detail view since the detail view was also creating entirely programatically without the use of the storyboard. I also had to add segues to ensure that users could click on the detail view of any movie in the similar page so that they could see that information immediately as opposed to having to look up that new movie using search. I was able to implement this feature by making another call to the API after constructing the new url required to fetch the data for similiar movies to the current movie. To create this url I had to create a dictionary that would help me conver the string name of the movie to a proper url by converting any punctuation to the proper url represenation. This feature is useful because it helps users get suggested movies based on more than just the genre, but more specified to the current movie.
3. This feature allows users to access the most helpful information about the movie beyond its specific details. I created a button that allows users to load a webpage that shows them the different places they can watch the movie they are interested in. I implemented this feature by importing the Webkit package to be able to use and load the WKWebView.  To accomplish this, I sent the movie name over to the specific view controller which I reached by allocating a storyboard Id and calling the viewcontroller with that id. Once the view controller was allocated and the name of the movie had been sent, I had to create a dictionary containing the different punctutation to url codes. This was important because if i tried to create a url using only the raw movie name, if punctutation was present, the url would be incorrect and the proper web page would not be loaded. I created the url from a base url of the desired website and and the url-friendly converted movie name. I think this feature is incredibly useful because if a user is interested in watching a movie, they now have information as to where to do so right at their fingertips.
